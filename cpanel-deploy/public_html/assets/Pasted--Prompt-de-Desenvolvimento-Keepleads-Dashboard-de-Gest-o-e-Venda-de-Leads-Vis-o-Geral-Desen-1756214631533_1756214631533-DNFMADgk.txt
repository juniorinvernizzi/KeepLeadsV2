# Prompt de Desenvolvimento: Keepleads - Dashboard de Gestão e Venda de Leads

## Visão Geral

Desenvolver um sistema web chamado **Keepleads** para gerenciar e vender leads de planos de saúde. Os leads são captados através de tráfego pago, direcionados ao KommoCRM e integrados ao sistema Keepleads via n8n.

O objetivo é permitir que empresas ou corretores possam comprar leads qualificados diretamente pela plataforma, com todo o processo de gestão, exibição, compra, adição de créditos e transferência dos leads realizado no ambiente do sistema.

---

## Stack Tecnológica

- **Backend:** Laravel 10+ (PHP 8+)
- **Frontend:** Blade + TailwindCSS
- **Banco de Dados:** MySQL
- **Integração:** KommoCRM via n8n (webhooks/API)
- **Gateway de Pagamento:** Mercado Pago (créditos para compra de leads)
- **Hospedagem:** Compatível com ambiente cPanel
- **Build de assets:** Laravel Vite (para Tailwind)
- **Performance:** Otimização de queries, cache de resultados, interface responsiva e rápida

---

## Tipos de Usuário

- **Administrador:**  
  - Gerencia todos os usuários, leads, transações, relatórios, configurações e créditos.
- **Cliente:**  
  - Pode registrar conta, efetuar login, comprar leads, visualizar leads comprados, adicionar crédito via Mercado Pago e editar perfil.

---

## Funcionalidades Principais

### 1. Autenticação e Perfis de Usuário
- Login e cadastro de clientes (clientes)
- Painel de administração para o administrador
- Permissões por tipo de usuário (admin, cliente)

### 2. Gestão de Leads
- Listagem de leads disponíveis para venda, com filtros avançados (cidade, faixa de idade, operadora, data, etc)
- Visualização de detalhes do lead (ex: nome, telefone, e-mail, origem, data/hora do lead, observações)
- Status do lead: disponível, reservado, vendido, expirado
- Importação manual de leads via CSV (opcional)
- Histórico de vendas de cada lead

### 3. Venda e Compra de Leads
- Sistema de créditos (clientes adicionam créditos para comprar leads)
- Integração com Mercado Pago para adição de créditos (checkout transparente ou redirecionamento)
- Compra rápida de leads (seleção, checkout, confirmação, download das informações)
- Carrinho de compras de leads
- Limite de compra por usuário (opcional)

### 4. Integração com KommoCRM via n8n
- Recebimento automático dos leads enviados pelo KommoCRM usando webhooks do n8n
- Mapeamento dinâmico dos campos do KommoCRM para o Keepleads
- Validação e prevenção de leads duplicados

### 5. Dashboard Gerencial
- Gráficos e métricas: total de leads disponíveis, vendidos, receita gerada, leads por origem, conversão por período, etc
- Relatórios exportáveis (CSV, PDF)
- Notificações para novos leads disponíveis

### 6. Administração
- Cadastro e edição de tipos de leads/produtos
- Gerenciamento de usuários
- Ajuste de preços dos leads por categoria ou origem
- Auditoria de acessos e operações

### 7. Área do Cliente
- Visualização de perfil e edição de dados pessoais
- Histórico de leads comprados
- Tela para adicionar crédito (integração Mercado Pago)
- Consulta de saldo atual de créditos

---

## Requisitos Não-Funcionais

- **Performance:** Consultas otimizadas, carregamento rápido de páginas, uso eficiente de cache
- **Segurança:** Proteção contra SQL Injection, autenticação robusta, logs de acesso
- **Escalabilidade:** Base preparada para aumento de volume de leads e usuários
- **Responsividade:** Interface adaptável para dispositivos móveis (utilizando TailwindCSS)
- **Código Limpo:** Seguir as boas práticas do Laravel; código comentado e modularizado

---

## Telas Sugeridas

1. Tela de Login/Cadastro (Blade + Tailwind)
2. Dashboard principal (resumo geral, gráficos)
3. Listagem de leads com filtros (design responsivo)
4. Página de detalhe do lead
5. Tela de compra/carrinho
6. Histórico de compras (meus leads)
7. Administração (cadastro de usuários, leads, preços, relatórios)
8. Perfil do cliente (dados pessoais, créditos, opção de adicionar crédito via Mercado Pago)

---

## Observações

- O sistema deve ser fácil de manter e expandir.
- Foco em experiência do usuário para navegação rápida e intuitiva.
- O código deve ser bem documentado, estruturado e pronto para futuras integrações.
- O sistema será hospedado em ambiente cPanel, portanto utilize somente recursos compatíveis.

---

## Fluxo de Integração

1. Lead chega via tráfego pago → KommoCRM
2. KommoCRM envia o lead via webhook para o n8n
3. n8n processa e envia para o Keepleads (API/endpoint)
4. Lead aparece disponível para venda no sistema

---

## Fluxo de Compra de Créditos

1. Cliente acessa a área de créditos e seleciona o valor para adicionar.
2. Cliente é redirecionado ao checkout do Mercado Pago (ou utiliza checkout transparente).
3. Após pagamento aprovado, créditos são automaticamente adicionados ao saldo do cliente.
4. Cliente pode adquirir leads usando os créditos.

---

## Referências

- [LeadLovers](https://leadlovers.com/)
- [LeadMarkt](https://www.leadmarkt.com.br/)
- [Documentação Mercado Pago Laravel](https://www.mercadopago.com.br/developers/pt/docs/checkout-api/integration)

---

**IMPORTANTE:**  
O sistema deve ser rápido, seguro, amigável e otimizado, facilitando a gestão de leads e maximizando as vendas!

---

## Extras (opcional)
- Sugestão de uso de componentes Blade reutilizáveis para formulários, tabelas e cards de leads.
- Incluir testes básicos (Feature e Unit) para garantir a qualidade do código.
- Documentação clara do processo de deploy em cPanel, incluindo build do TailwindCSS com Vite.